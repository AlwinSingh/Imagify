{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\nexport interface IAppProps {\n  images: [];\n  styles: {};\n  onDragFinish: any,\n  opacity: number,\n  ref: any,\n  customWrapperClass: Array<string>[],\n  customImageClass: Array<string>[],\n}\n\nfunction ReactDrag({ images, styles, onDragFinish, opacity= 0.5, ref, customWrapperClass = [], customImageClass=[] }: IAppProps): JSX.Element {\n  let drageSrcEl = null as any\n \n  const handleDragStart = (e: any): void => {\n    drageSrcEl = e.target;\n    e.dataTransfer.effectAllowed = \"move\"\n    e.dataTransfer.setData('text/html', e.target.src);\n  }\n  const handleDrageEnter = (e: any): void => {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  const handleDragLeave = (e: any): void => {\n    e.preventDefault();\n    e.stopPropagation();\n    drageSrcEl.style.opacity = opacity\n  }\n  const handleDragOver = (e: any): void => {\n    if(e.preventDefault){\n      e.preventDefault()\n    }\n    e.dataTransfer.dropEffect = \"move\"\n  }\n  const handleDrop = (e: any) => {\n    if(e.stopPropagation){\n      e.stopPropagation()\n    }\n    if(drageSrcEl && drageSrcEl.src != e.target.src){\n      const dragged = drageSrcEl.src \n      const replaced = e.target.src\n      drageSrcEl.src = e.target.src;\n      e.target.src = dragged;\n      e.target.style.opacity  = 1\n      drageSrcEl.style.opacity = 1\n      const draggedId: String = drageSrcEl.id;\n      const replacedId: String = e.target.id\n      const responseObj = {\n        draggedFile: {\n          index: Number(draggedId),\n          src: dragged\n        },\n        replacedFile: {\n          index: Number(replacedId),\n          src: replaced\n        }\n      }\n      \n       return onDragFinish(responseObj)\n    }\n  }\n  return (\n      <div ref={ref} className={customWrapperClass.join(' ')}>\n      {images.map((im, id) => (\n        <img src={im} alt=\"new image\" style={styles} draggable={true}\n        className={customImageClass.join(' ')}\n        id={id.toString()}\n        key={im+id.toString()}\n        onDragStart={handleDragStart}\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragEnter={handleDrageEnter}\n        onDragLeave={handleDragLeave}\n        />\n      ))}\n      </div>\n  );\n}\n\nexport default ReactDrag;\n"],"names":["React.createElement"],"mappings":"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"}